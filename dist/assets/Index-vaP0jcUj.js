import{_ as _export_sfc,r as ref,l as reactive,v as watch,d as resolveComponent,z as resolveDirective,c as createElementBlock,o as openBlock,b as createVNode,w as withCtx,x as withDirectives,j as createBlock,y as createTextVNode,t as toDisplayString,e as createBaseVNode,u as unref,I as plus_default,F as Fragment,h as renderList,a as ElMessage,E as ElMessageBox,n as onMounted,B as createCommentVNode,J as withModifiers}from"./index-DUy0cMb6.js";import api from"./index-B3CWdENx.js";const salaryGroupApi={getAllGroups(){return api.get("/salary-groups")},getGroupById(o){return api.get(`/salary-groups/${o}`)},createGroup(o){return api.post("/salary-groups",o)},updateGroup(o,i){return api.put(`/salary-groups/${o}`,i)},deleteGroup(o){return api.delete(`/salary-groups/${o}`)},getGroupItems(o){return api.get(`/salary-groups/${o}/items`)},createItem(o,i){return api.post(`/salary-groups/${o}/items`,i)},updateItem(o,i,p){return api.put(`/salary-groups/${o}/items/${i}`,p)},deleteItem(o,i){return api.delete(`/salary-groups/${o}/items/${i}`)},updateFormula(o,i){return api.put(`/salary-groups/${o}/formula`,{formula:i})},calculateFormula(o,i){return api.post(`/salary-groups/${o}/calculate`,{formula:i})},getGroupMatches(o){return api.get(`/salary-groups/${o}/matches`)},addGroupMatch(o,i){return api.post(`/salary-groups/${o}/matches`,i)},deleteGroupMatch(o,i){return api.delete(`/salary-groups/${o}/matches/${i}`)}},formulaUtils={parseFormula(formula,items){if(!formula||!items||items.length===0)return 0;try{const itemMap={};items.forEach(o=>{itemMap[o.name]=o.type==="收入"?o.amount:-o.amount});let calculableFormula=formula;for(const o in itemMap){const i=new RegExp(o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"g");calculableFormula=calculableFormula.replace(i,itemMap[o])}calculableFormula=calculableFormula.replace(/（/g,"(").replace(/）/g,")");const result=eval(calculableFormula);return typeof result=="number"?result:0}catch(o){return console.error("公式计算错误:",o),0}},validateFormula(formula,items){if(!formula)return!1;try{const itemMap={};items.forEach(o=>{itemMap[o.name]=o.type==="收入"?o.amount:-o.amount});let calculableFormula=formula;for(const o in itemMap){const i=new RegExp(o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"g");calculableFormula=calculableFormula.replace(i,itemMap[o])}return calculableFormula=calculableFormula.replace(/（/g,"(").replace(/）/g,")"),eval(calculableFormula),!0}catch(o){return console.error("公式验证错误:",o),!1}}},_hoisted_1$1={class:"group-matching-container"},_hoisted_2$1={class:"card-header"},_hoisted_3$1={class:"header-actions"},_hoisted_4$1={class:"dialog-footer"},_sfc_main$1={__name:"GroupMatching",props:{groupId:{type:[Number,String],required:!0},currentGroup:{type:Object,required:!0}},emits:["update"],setup(o,{emit:i}){const p=o,x=i,s=ref(!1),V=ref(!1),w=ref([]),g=ref([]),h=ref(!1),c=ref(null),u=reactive({type:"部门",target_id:"",target_name:"",priority:10,description:""}),N={type:[{required:!0,message:"请选择匹配类型",trigger:"change"}],target_id:[{required:!0,message:"请选择匹配对象",trigger:"change"}],priority:[{required:!0,message:"请设置优先级",trigger:"blur"}]};watch(()=>p.groupId,n=>{n&&_()});const _=async()=>{if(p.groupId){s.value=!0;try{const n=await salaryGroupApi.getGroupMatches(p.groupId);w.value=n||[]}catch(n){console.error("获取匹配规则失败:",n),ElMessage.error("获取匹配规则失败")}finally{s.value=!1}}},G=n=>({部门:"success",职级:"warning",员工:"info"})[n]||"default",d=()=>{Object.keys(u).forEach(n=>{n==="type"?u[n]="部门":n==="priority"?u[n]=10:u[n]=""}),g.value=[],h.value=!0},A=async n=>{if(n){V.value=!0;try{let r=[];u.type==="部门"?r=await y(n):u.type==="职级"?r=await k(n):u.type==="员工"&&(r=await U(n)),g.value=r}catch(r){console.error("搜索匹配对象失败:",r)}finally{V.value=!1}}},b=async()=>{c.value.validate(async n=>{if(n)try{const r=g.value.find(m=>m.id===u.target_id);r&&(u.target_name=r.name),await salaryGroupApi.addGroupMatch(p.groupId,u),ElMessage.success("匹配规则添加成功"),h.value=!1,_(),x("update")}catch(r){console.error("添加匹配规则失败:",r),ElMessage.error("添加匹配规则失败")}else return!1})},F=n=>{ElMessageBox.confirm("确定要删除该匹配规则吗？","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(async()=>{try{await salaryGroupApi.deleteGroupMatch(p.groupId,n.id),ElMessage.success("删除成功"),_(),x("update")}catch(r){console.error("删除匹配规则失败:",r),ElMessage.error("删除匹配规则失败")}}).catch(()=>{})},y=n=>new Promise(r=>{setTimeout(()=>{r([{id:1,name:"技术部"},{id:2,name:"人力资源部"},{id:3,name:"财务部"},{id:4,name:"市场部"},{id:5,name:"销售部"}].filter(m=>m.name.includes(n)))},300)}),k=n=>new Promise(r=>{setTimeout(()=>{r([{id:1,name:"初级"},{id:2,name:"中级"},{id:3,name:"高级"},{id:4,name:"专家"},{id:5,name:"总监"}].filter(m=>m.name.includes(n)))},300)}),U=n=>new Promise(r=>{setTimeout(()=>{r([{id:1,name:"张三"},{id:2,name:"李四"},{id:3,name:"王五"},{id:4,name:"赵六"},{id:5,name:"钱七"}].filter(m=>m.name.includes(n)))},300)});return _(),(n,r)=>{const m=resolveComponent("el-icon"),B=resolveComponent("el-button"),R=resolveComponent("el-tag"),C=resolveComponent("el-table-column"),S=resolveComponent("el-table"),z=resolveComponent("el-card"),M=resolveComponent("el-option"),I=resolveComponent("el-select"),f=resolveComponent("el-form-item"),j=resolveComponent("el-input-number"),O=resolveComponent("el-input"),t=resolveComponent("el-form"),e=resolveComponent("el-dialog"),D=resolveDirective("loading");return openBlock(),createElementBlock("div",_hoisted_1$1,[createVNode(z,{class:"matching-card"},{header:withCtx(()=>[createBaseVNode("div",_hoisted_2$1,[createBaseVNode("h2",null,toDisplayString(o.currentGroup.name)+" - 薪资组匹配规则",1),createBaseVNode("div",_hoisted_3$1,[createVNode(B,{type:"primary",onClick:d},{default:withCtx(()=>[createVNode(m,null,{default:withCtx(()=>[createVNode(unref(plus_default))]),_:1}),r[6]||(r[6]=createTextVNode(" 添加匹配规则 "))]),_:1})])])]),default:withCtx(()=>[withDirectives((openBlock(),createBlock(S,{data:w.value,border:"",style:{width:"100%"}},{default:withCtx(()=>[createVNode(C,{prop:"type",label:"匹配类型",width:"120"},{default:withCtx(l=>[createVNode(R,{type:G(l.row.type)},{default:withCtx(()=>[createTextVNode(toDisplayString(l.row.type),1)]),_:2},1032,["type"])]),_:1}),createVNode(C,{prop:"target_name",label:"匹配对象",width:"180"}),createVNode(C,{prop:"priority",label:"优先级",width:"100"}),createVNode(C,{prop:"description",label:"描述","show-overflow-tooltip":""}),createVNode(C,{label:"操作",width:"150",fixed:"right"},{default:withCtx(l=>[createVNode(B,{size:"small",type:"danger",onClick:v=>F(l.row)},{default:withCtx(()=>r[7]||(r[7]=[createTextVNode("删除")])),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])),[[D,s.value]])]),_:1}),createVNode(e,{modelValue:h.value,"onUpdate:modelValue":r[5]||(r[5]=l=>h.value=l),title:"添加匹配规则",width:"500px"},{footer:withCtx(()=>[createBaseVNode("span",_hoisted_4$1,[createVNode(B,{onClick:r[4]||(r[4]=l=>h.value=!1)},{default:withCtx(()=>r[8]||(r[8]=[createTextVNode("取消")])),_:1}),createVNode(B,{type:"primary",onClick:b},{default:withCtx(()=>r[9]||(r[9]=[createTextVNode("确定")])),_:1})])]),default:withCtx(()=>[createVNode(t,{model:u,rules:N,ref_key:"matchFormRef",ref:c,"label-width":"100px"},{default:withCtx(()=>[createVNode(f,{label:"匹配类型",prop:"type"},{default:withCtx(()=>[createVNode(I,{modelValue:u.type,"onUpdate:modelValue":r[0]||(r[0]=l=>u.type=l),placeholder:"请选择匹配类型",style:{width:"100%"}},{default:withCtx(()=>[createVNode(M,{label:"部门",value:"部门"}),createVNode(M,{label:"职级",value:"职级"}),createVNode(M,{label:"员工",value:"员工"})]),_:1},8,["modelValue"])]),_:1}),createVNode(f,{label:"匹配对象",prop:"target_id"},{default:withCtx(()=>[createVNode(I,{modelValue:u.target_id,"onUpdate:modelValue":r[1]||(r[1]=l=>u.target_id=l),placeholder:"请选择匹配对象",style:{width:"100%"},filterable:"",remote:"","remote-method":A,loading:V.value},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(g.value,l=>(openBlock(),createBlock(M,{key:l.id,label:l.name,value:l.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue","loading"])]),_:1}),createVNode(f,{label:"优先级",prop:"priority"},{default:withCtx(()=>[createVNode(j,{modelValue:u.priority,"onUpdate:modelValue":r[2]||(r[2]=l=>u.priority=l),min:1,max:100,style:{width:"100%"}},null,8,["modelValue"])]),_:1}),createVNode(f,{label:"描述",prop:"description"},{default:withCtx(()=>[createVNode(O,{modelValue:u.description,"onUpdate:modelValue":r[3]||(r[3]=l=>u.description=l),type:"textarea",rows:2,placeholder:"请输入描述信息"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])])}}},GroupMatching=_export_sfc(_sfc_main$1,[["__scopeId","data-v-9fe06f56"]]),_hoisted_1={class:"salary-group-container"},_hoisted_2={class:"card-header"},_hoisted_3={class:"header-actions"},_hoisted_4={class:"card-header"},_hoisted_5={class:"header-actions"},_hoisted_6={class:"formula-editor"},_hoisted_7={class:"formula-content"},_hoisted_8={class:"formula-help"},_hoisted_9={class:"formula-operators"},_hoisted_10={class:"formula-actions"},_hoisted_11={class:"dialog-footer"},_hoisted_12={class:"dialog-footer"},_hoisted_13={class:"formula-test-content"},_hoisted_14={class:"formula-display"},_hoisted_15={class:"formula-test-result"},_hoisted_16={class:"dialog-footer"},_sfc_main={__name:"Index",setup(o){const i=ref(!1),p=ref(!1),x=ref([]),s=ref({}),V=ref([]),w=ref(!1),g=ref(!1),h=ref(null),c=reactive({id:"",name:"",formula:"",remarks:""}),u={name:[{required:!0,message:"请输入薪资组名称",trigger:"blur"}]},N=ref(!1),_=ref(!1),G=ref(null),d=reactive({id:"",group_id:"",name:"",amount:0,type:"收入",description:""}),A={name:[{required:!0,message:"请输入薪酬项名称",trigger:"blur"}],amount:[{required:!0,message:"请输入金额",trigger:"blur"}],type:[{required:!0,message:"请选择类型",trigger:"change"}]},b=ref(!1),F=ref(0);onMounted(()=>{y()});const y=async()=>{i.value=!0;try{const t=await salaryGroupApi.getAllGroups();t.success?x.value=t.data.items||[]:(ElMessage.error(t.error||"获取薪资组失败"),x.value=[])}catch(t){console.error("获取薪资组失败:",t),ElMessage.error("获取薪资组失败"),x.value=[]}finally{i.value=!1}},k=async t=>{if(t){p.value=!0;try{const e=await salaryGroupApi.getGroupItems(t);V.value=e||[]}catch(e){console.error("获取薪酬项失败:",e),ElMessage.error("获取薪酬项失败")}finally{p.value=!1}}},U=t=>{s.value={...t},k(t.id)},n=()=>{g.value=!1,Object.keys(c).forEach(t=>{c[t]=""}),w.value=!0},r=t=>{g.value=!0,Object.keys(c).forEach(e=>{c[e]=t[e]||""}),w.value=!0},m=()=>{h.value.validate(async t=>{if(t)try{g.value?await salaryGroupApi.updateGroup(c.id,c):await salaryGroupApi.createGroup(c),ElMessage.success(g.value?"薪资组更新成功":"薪资组添加成功"),w.value=!1,y()}catch(e){console.error("保存薪资组失败:",e),ElMessage.error("保存失败")}else return!1})},B=t=>{ElMessageBox.confirm("删除薪资组将同时删除其下所有薪酬项，确定要删除吗？","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(async()=>{try{await salaryGroupApi.deleteGroup(t.id),ElMessage({type:"success",message:"删除成功"}),y(),s.value.id===t.id&&(s.value={},V.value=[])}catch(e){console.error("删除薪资组失败:",e),ElMessage.error("删除失败")}}).catch(()=>{})},R=t=>{s.value={...t},k(t.id)},C=()=>{if(!s.value.id){ElMessage.warning("请先选择一个薪资组");return}_.value=!1,Object.keys(d).forEach(t=>{t==="group_id"?d[t]=s.value.id:t==="type"?d[t]="收入":t==="amount"?d[t]=0:d[t]=""}),N.value=!0},S=t=>{_.value=!0,Object.keys(d).forEach(e=>{d[e]=t[e]||(e==="amount"?0:"")}),N.value=!0},z=()=>{G.value.validate(async t=>{if(t)try{_.value?await salaryGroupApi.updateItem(s.value.id,d.id,d):await salaryGroupApi.createItem(s.value.id,d),ElMessage.success(_.value?"薪酬项更新成功":"薪酬项添加成功"),N.value=!1,k(s.value.id),y()}catch(e){console.error("保存薪酬项失败:",e),ElMessage.error("保存失败")}else return!1})},M=t=>{ElMessageBox.confirm("确定要删除该薪酬项吗？","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(async()=>{try{await salaryGroupApi.deleteItem(s.value.id,t.id),ElMessage({type:"success",message:"删除成功"}),k(s.value.id),y()}catch(e){console.error("删除薪酬项失败:",e),ElMessage.error("删除失败")}}).catch(()=>{})},I=t=>{s.value.formula+=t},f=t=>{s.value.formula+=` ${t} `},j=async()=>{if(!s.value.formula){ElMessage.warning("请输入薪资计算公式");return}if(!formulaUtils.validateFormula(s.value.formula,V.value)){ElMessage.error("公式无效，请检查后重试");return}try{await salaryGroupApi.updateFormula(s.value.id,s.value.formula),ElMessage.success("薪资计算公式保存成功"),y()}catch(t){console.error("保存公式失败:",t),ElMessage.error("保存失败")}},O=async()=>{if(!s.value.formula){ElMessage.warning("请先输入薪资计算公式");return}try{let t;try{t=(await salaryGroupApi.calculateFormula(s.value.id,s.value.formula)).result}catch(e){console.warn("API计算失败，使用本地计算:",e),t=formulaUtils.parseFormula(s.value.formula,V.value)}F.value=typeof t=="number"?t.toFixed(2):"计算错误",b.value=!0}catch(t){console.error("公式计算失败:",t),ElMessage.error("公式计算失败，请检查公式是否正确")}};return(t,e)=>{const D=resolveComponent("el-icon"),l=resolveComponent("el-button"),v=resolveComponent("el-table-column"),L=resolveComponent("el-table"),P=resolveComponent("el-card"),J=resolveComponent("el-tag"),$=resolveComponent("el-input"),E=resolveComponent("el-form-item"),H=resolveComponent("el-form"),q=resolveComponent("el-dialog"),W=resolveComponent("el-input-number"),K=resolveComponent("el-option"),X=resolveComponent("el-select"),Q=resolveDirective("loading");return openBlock(),createElementBlock("div",_hoisted_1,[createVNode(P,{class:"salary-group-card"},{header:withCtx(()=>[createBaseVNode("div",_hoisted_2,[e[20]||(e[20]=createBaseVNode("h2",null,"薪资组管理",-1)),createBaseVNode("div",_hoisted_3,[createVNode(l,{type:"primary",onClick:n},{default:withCtx(()=>[createVNode(D,null,{default:withCtx(()=>[createVNode(unref(plus_default))]),_:1}),e[19]||(e[19]=createTextVNode(" 添加薪资组 "))]),_:1})])])]),default:withCtx(()=>[withDirectives((openBlock(),createBlock(L,{data:x.value,border:"",style:{width:"100%"},onRowClick:U},{default:withCtx(()=>[createVNode(v,{prop:"name",label:"薪资组名称",width:"180"}),createVNode(v,{prop:"item_count",label:"薪酬项数量",width:"120"}),createVNode(v,{prop:"formula",label:"计算公式","show-overflow-tooltip":""}),createVNode(v,{prop:"remarks",label:"备注","show-overflow-tooltip":""}),createVNode(v,{label:"操作",width:"200",fixed:"right"},{default:withCtx(a=>[createVNode(l,{size:"small",onClick:withModifiers(T=>r(a.row),["stop"])},{default:withCtx(()=>e[21]||(e[21]=[createTextVNode("编辑")])),_:2},1032,["onClick"]),createVNode(l,{size:"small",type:"danger",onClick:withModifiers(T=>B(a.row),["stop"])},{default:withCtx(()=>e[22]||(e[22]=[createTextVNode("删除")])),_:2},1032,["onClick"]),createVNode(l,{size:"small",type:"primary",onClick:withModifiers(T=>R(a.row),["stop"])},{default:withCtx(()=>e[23]||(e[23]=[createTextVNode("管理薪酬项")])),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])),[[Q,i.value]])]),_:1}),s.value.id?(openBlock(),createBlock(P,{key:0,class:"salary-items-card"},{header:withCtx(()=>[createBaseVNode("div",_hoisted_4,[createBaseVNode("h2",null,toDisplayString(s.value.name)+" - 薪酬项管理",1),createBaseVNode("div",_hoisted_5,[createVNode(l,{type:"primary",onClick:C},{default:withCtx(()=>[createVNode(D,null,{default:withCtx(()=>[createVNode(unref(plus_default))]),_:1}),e[24]||(e[24]=createTextVNode(" 添加薪酬项 "))]),_:1})])])]),default:withCtx(()=>[withDirectives((openBlock(),createBlock(L,{data:V.value,border:"",style:{width:"100%"}},{default:withCtx(()=>[createVNode(v,{prop:"name",label:"薪酬项名称",width:"180"}),createVNode(v,{prop:"amount",label:"金额",width:"120"},{default:withCtx(a=>[createTextVNode(toDisplayString(a.row.amount.toFixed(2)),1)]),_:1}),createVNode(v,{prop:"type",label:"类型",width:"120"},{default:withCtx(a=>[createVNode(J,{type:a.row.type==="收入"?"success":"danger"},{default:withCtx(()=>[createTextVNode(toDisplayString(a.row.type),1)]),_:2},1032,["type"])]),_:1}),createVNode(v,{prop:"description",label:"描述","show-overflow-tooltip":""}),createVNode(v,{label:"操作",width:"150",fixed:"right"},{default:withCtx(a=>[createVNode(l,{size:"small",onClick:T=>S(a.row)},{default:withCtx(()=>e[25]||(e[25]=[createTextVNode("编辑")])),_:2},1032,["onClick"]),createVNode(l,{size:"small",type:"danger",onClick:T=>M(a.row)},{default:withCtx(()=>e[26]||(e[26]=[createTextVNode("删除")])),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])),[[Q,p.value]]),createBaseVNode("div",_hoisted_6,[e[37]||(e[37]=createBaseVNode("h3",null,"薪资计算公式",-1)),createBaseVNode("div",_hoisted_7,[createVNode($,{modelValue:s.value.formula,"onUpdate:modelValue":e[0]||(e[0]=a=>s.value.formula=a),type:"textarea",rows:3,placeholder:"请输入薪资计算公式，例如：基本工资 + 绩效工资 - 社保扣款"},null,8,["modelValue"]),createBaseVNode("div",_hoisted_8,[e[27]||(e[27]=createBaseVNode("p",null,"可用的薪酬项：",-1)),(openBlock(!0),createElementBlock(Fragment,null,renderList(V.value,a=>(openBlock(),createBlock(J,{key:a.id,class:"formula-tag",onClick:T=>I(a.name)},{default:withCtx(()=>[createTextVNode(toDisplayString(a.name),1)]),_:2},1032,["onClick"]))),128))]),createBaseVNode("div",_hoisted_9,[e[34]||(e[34]=createBaseVNode("p",null,"可用的运算符：",-1)),createVNode(l,{size:"small",onClick:e[1]||(e[1]=a=>f("+"))},{default:withCtx(()=>e[28]||(e[28]=[createTextVNode("+")])),_:1}),createVNode(l,{size:"small",onClick:e[2]||(e[2]=a=>f("-"))},{default:withCtx(()=>e[29]||(e[29]=[createTextVNode("-")])),_:1}),createVNode(l,{size:"small",onClick:e[3]||(e[3]=a=>f("*"))},{default:withCtx(()=>e[30]||(e[30]=[createTextVNode("*")])),_:1}),createVNode(l,{size:"small",onClick:e[4]||(e[4]=a=>f("/"))},{default:withCtx(()=>e[31]||(e[31]=[createTextVNode("÷")])),_:1}),createVNode(l,{size:"small",onClick:e[5]||(e[5]=a=>f("("))},{default:withCtx(()=>e[32]||(e[32]=[createTextVNode("（")])),_:1}),createVNode(l,{size:"small",onClick:e[6]||(e[6]=a=>f(")"))},{default:withCtx(()=>e[33]||(e[33]=[createTextVNode("）")])),_:1})]),createBaseVNode("div",_hoisted_10,[createVNode(l,{type:"primary",onClick:j},{default:withCtx(()=>e[35]||(e[35]=[createTextVNode("保存公式")])),_:1}),createVNode(l,{onClick:O},{default:withCtx(()=>e[36]||(e[36]=[createTextVNode("测试计算")])),_:1})])])])]),_:1})):createCommentVNode("",!0),createVNode(q,{modelValue:w.value,"onUpdate:modelValue":e[10]||(e[10]=a=>w.value=a),title:g.value?"编辑薪资组":"添加薪资组",width:"500px"},{footer:withCtx(()=>[createBaseVNode("span",_hoisted_11,[createVNode(l,{onClick:e[9]||(e[9]=a=>w.value=!1)},{default:withCtx(()=>e[38]||(e[38]=[createTextVNode("取消")])),_:1}),createVNode(l,{type:"primary",onClick:m},{default:withCtx(()=>e[39]||(e[39]=[createTextVNode("确定")])),_:1})])]),default:withCtx(()=>[createVNode(H,{model:c,rules:u,ref_key:"groupFormRef",ref:h,"label-width":"100px"},{default:withCtx(()=>[createVNode(E,{label:"薪资组名称",prop:"name"},{default:withCtx(()=>[createVNode($,{modelValue:c.name,"onUpdate:modelValue":e[7]||(e[7]=a=>c.name=a),placeholder:"请输入薪资组名称"},null,8,["modelValue"])]),_:1}),createVNode(E,{label:"备注",prop:"remarks"},{default:withCtx(()=>[createVNode($,{modelValue:c.remarks,"onUpdate:modelValue":e[8]||(e[8]=a=>c.remarks=a),type:"textarea",rows:3,placeholder:"请输入备注信息"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue","title"]),createVNode(q,{modelValue:N.value,"onUpdate:modelValue":e[16]||(e[16]=a=>N.value=a),title:_.value?"编辑薪酬项":"添加薪酬项",width:"500px"},{footer:withCtx(()=>[createBaseVNode("span",_hoisted_12,[createVNode(l,{onClick:e[15]||(e[15]=a=>N.value=!1)},{default:withCtx(()=>e[40]||(e[40]=[createTextVNode("取消")])),_:1}),createVNode(l,{type:"primary",onClick:z},{default:withCtx(()=>e[41]||(e[41]=[createTextVNode("确定")])),_:1})])]),default:withCtx(()=>[createVNode(H,{model:d,rules:A,ref_key:"itemFormRef",ref:G,"label-width":"100px"},{default:withCtx(()=>[createVNode(E,{label:"薪酬项名称",prop:"name"},{default:withCtx(()=>[createVNode($,{modelValue:d.name,"onUpdate:modelValue":e[11]||(e[11]=a=>d.name=a),placeholder:"请输入薪酬项名称"},null,8,["modelValue"])]),_:1}),createVNode(E,{label:"金额",prop:"amount"},{default:withCtx(()=>[createVNode(W,{modelValue:d.amount,"onUpdate:modelValue":e[12]||(e[12]=a=>d.amount=a),precision:2,step:100,min:0,style:{width:"100%"}},null,8,["modelValue"])]),_:1}),createVNode(E,{label:"类型",prop:"type"},{default:withCtx(()=>[createVNode(X,{modelValue:d.type,"onUpdate:modelValue":e[13]||(e[13]=a=>d.type=a),placeholder:"请选择类型",style:{width:"100%"}},{default:withCtx(()=>[createVNode(K,{label:"收入",value:"收入"}),createVNode(K,{label:"支出",value:"支出"})]),_:1},8,["modelValue"])]),_:1}),createVNode(E,{label:"描述",prop:"description"},{default:withCtx(()=>[createVNode($,{modelValue:d.description,"onUpdate:modelValue":e[14]||(e[14]=a=>d.description=a),type:"textarea",rows:2,placeholder:"请输入描述信息"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue","title"]),createVNode(q,{modelValue:b.value,"onUpdate:modelValue":e[18]||(e[18]=a=>b.value=a),title:"公式测试计算",width:"500px"},{footer:withCtx(()=>[createBaseVNode("span",_hoisted_16,[createVNode(l,{onClick:e[17]||(e[17]=a=>b.value=!1)},{default:withCtx(()=>e[43]||(e[43]=[createTextVNode("关闭")])),_:1})])]),default:withCtx(()=>[createBaseVNode("div",_hoisted_13,[createBaseVNode("p",_hoisted_14,toDisplayString(s.value.formula),1),createBaseVNode("div",_hoisted_15,[e[42]||(e[42]=createBaseVNode("p",null,"计算结果：",-1)),createBaseVNode("h2",null,toDisplayString(F.value),1)])])]),_:1},8,["modelValue"]),s.value.id?(openBlock(),createBlock(GroupMatching,{key:1,"group-id":s.value.id,"current-group":s.value,onUpdate:y},null,8,["group-id","current-group"])):createCommentVNode("",!0)])}}},Index=_export_sfc(_sfc_main,[["__scopeId","data-v-da8c770f"]]);export{Index as default};
